이번주는 CNN을 활용한 딥러닝 프로젝트를 하고 있다
딥러닝 프로젝트중에 모델 학습을 시키는데 오류가 발생했다 ..
언제나 오류는 무섭지만 반갑기도하다 왜냐하면 나중엔 삽질 안해도되니까..

PIL.UnidentifiedImageError: cannot identify image file <_io.BytesIO object
쉽게 말하자면 그냥 이미지를 읽어오지 못한다는 뜻이다..
데이터량이 많은 것도 아니지만 막상 저 데이터에서 잘못된 파일을 어떻게 찾아내야하나
생각이 들어서 막막하기도 했지만 구글링을 열심히 해본다.. 아직 구글링에 익숙하지 않아서 인지 이게 무슨 소린지 모르겠다..
그러다 공통된 부분을 찾아보고 틀을 잡아서 그 방향으로 깊게 파고들다보면 답이 나오는 것 같다
일단 데이터 전처리 할 때 이름을 통일성있게 정렬해준 프로그램에 자세히보니 파일 크기가 나와있는 곳이 있었다
그곳을 보고 byte가 낮은 걸 찾아보니 역시나 0바이트 파일이 있었고 이젠 해결됬나? 찾아보니 아직도 에러가난다..
그래서 읽을 수 없는 파일을 찾아야하는데 그 파일을 찾는 걸 구글링 해봤더니 어떤분들이 나와 같은 문제로 해결법을 찾은 걸 보고
얼른 실행에 옮겼더니 해결되었다.
간력하게 정리하면 이미지파일이 잘못된 것이 있으니 그 파일을 찾아서 처리하면 되는 것
바이트 값이 낮은 걸 찾아서 삭제해주고 그 다음은 
import PIL
from pathlib import Path

path = Path(".").rglob("*.png")

for img_p in path:
	try:
	img = PIL.UnidentifiedImageError:
	print( img_p)

읽지 못하는 png파일을 가져와서 삭제해주면 끝나는 것 이였다
항상 해결하고 나면 간단하지만 오류는 언제나 나를 긴장하게 만든다
